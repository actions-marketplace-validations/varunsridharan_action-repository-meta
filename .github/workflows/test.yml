name: "ðŸ§ª Test"

on:
  workflow_dispatch:
  release:
    types: [published]
  push:
    branches:
      - main
      - develop

jobs:
  linux:
    name: "ðŸ§ª  Linux"
    runs-on: ubuntu-latest
    steps:
      - name: "ðŸ“¥  Fetching Repository Contents"
        uses: actions/checkout@main

      - name: "ðŸ’¾   Metadata For Self"
        uses: ./
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}

      - name: "ðŸ’¾   Metadata For wponion/wponion"
        uses: ./
        with:
          REPOSITORY: wponion/wponion
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}

  windows:
    name: "ðŸ§ª  Windows"
    runs-on: windows-latest
    steps:
      - name: "ðŸ“¥  Fetching Repository Contents"
        uses: actions/checkout@main

      - name: "ðŸ’¾   Metadata For Self"
        uses: ./
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}

      - name: "ðŸ’¾   Metadata For wponion/wponion"
        uses: ./
        with:
          REPOSITORY: wponion/wponion
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}

  macos:
    name: "ðŸ§ª  macOS"
    runs-on: windows-latest
    steps:
      - name: "ðŸ“¥  Fetching Repository Contents"
        uses: actions/checkout@main

      - name: "ðŸ’¾   Metadata For Self"
        uses: ./
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}

      - name: "ðŸ’¾   Metadata For wponion/wponion"
        uses: ./
        with:
          REPOSITORY: wponion/wponion
        env:
          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}